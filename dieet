<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Natura â€” Nutrition Per 100g</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d1a0f;
    --surface: #111f13;
    --surface2: #172019;
    --border: #2a3d2c;
    --accent: #7bc67e;
    --accent2: #f4c842;
    --accent3: #e8734a;
    --text: #e8f0e9;
    --text-muted: #7a9b7d;
    --pill-fruit: #e8734a22;
    --pill-veg: #7bc67e22;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Background texture */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: radial-gradient(ellipse at 20% 20%, #1a3a1c 0%, transparent 50%),
                      radial-gradient(ellipse at 80% 80%, #1f2e10 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
  }

  .wrapper { position: relative; z-index: 1; max-width: 1400px; margin: 0 auto; padding: 0 24px; }

  /* Header */
  header {
    padding: 60px 0 40px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 48px;
  }

  .header-inner {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 24px;
  }

  .logo {
    font-family: 'Playfair Display', serif;
    font-size: clamp(3rem, 8vw, 6rem);
    font-weight: 700;
    line-height: 0.9;
    letter-spacing: -2px;
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 60%, var(--accent3) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .logo em {
    font-style: italic;
    font-weight: 400;
    font-size: 0.6em;
    display: block;
    letter-spacing: 0px;
  }

  .header-meta {
    text-align: right;
    font-size: 11px;
    color: var(--text-muted);
    letter-spacing: 2px;
    text-transform: uppercase;
    line-height: 2;
  }

  /* Controls */
  .controls {
    display: flex;
    gap: 16px;
    margin-bottom: 40px;
    flex-wrap: wrap;
    align-items: center;
  }

  .search-wrap {
    flex: 1;
    min-width: 240px;
    position: relative;
  }

  .search-wrap svg {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
    width: 16px;
    height: 16px;
  }

  input[type="search"] {
    width: 100%;
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    padding: 12px 16px 12px 42px;
    border-radius: 8px;
    outline: none;
    transition: border-color 0.2s;
  }

  input[type="search"]:focus { border-color: var(--accent); }
  input[type="search"]::placeholder { color: var(--text-muted); }

  .filter-tabs {
    display: flex;
    gap: 6px;
    background: var(--surface);
    border: 1px solid var(--border);
    padding: 4px;
    border-radius: 8px;
  }

  .filter-tab {
    padding: 8px 18px;
    border-radius: 5px;
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 1px;
    text-transform: uppercase;
    cursor: pointer;
    border: none;
    background: transparent;
    color: var(--text-muted);
    transition: all 0.2s;
  }

  .filter-tab.active {
    background: var(--accent);
    color: #0d1a0f;
    font-weight: 500;
  }

  .sort-select {
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 1px;
    text-transform: uppercase;
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    outline: none;
  }

  /* Stats bar */
  .stats-bar {
    display: flex;
    gap: 32px;
    margin-bottom: 32px;
    font-size: 11px;
    color: var(--text-muted);
    letter-spacing: 1px;
    text-transform: uppercase;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border);
  }

  .stat span { color: var(--accent); font-size: 20px; display: block; letter-spacing: -1px; font-family: 'Playfair Display', serif; }

  /* Grid */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 16px;
    margin-bottom: 80px;
  }

  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.25s;
    position: relative;
    overflow: hidden;
    animation: fadeIn 0.4s ease backwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .card:hover {
    border-color: var(--accent);
    transform: translateY(-3px);
    box-shadow: 0 12px 40px rgba(123, 198, 126, 0.08);
  }

  .card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    opacity: 0;
    transition: opacity 0.2s;
  }

  .card:hover::before { opacity: 1; }

  .card-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 16px;
  }

  .card-icon { font-size: 36px; line-height: 1; }

  .card-type {
    font-size: 9px;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 4px 10px;
    border-radius: 20px;
    font-weight: 500;
  }

  .card-type.fruit {
    background: var(--pill-fruit);
    color: var(--accent3);
    border: 1px solid #e8734a33;
  }

  .card-type.vegetable {
    background: var(--pill-veg);
    color: var(--accent);
    border: 1px solid #7bc67e33;
  }

  .card-name {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--text);
  }

  .card-calories {
    font-size: 11px;
    color: var(--text-muted);
    margin-bottom: 16px;
    letter-spacing: 1px;
  }

  .card-calories strong {
    color: var(--accent2);
    font-size: 18px;
    font-family: 'Playfair Display', serif;
    letter-spacing: -0.5px;
  }

  .macros {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin-bottom: 14px;
  }

  .macro {
    background: var(--surface2);
    border-radius: 8px;
    padding: 8px 10px;
    text-align: center;
  }

  .macro-val {
    font-size: 15px;
    font-weight: 500;
    color: var(--text);
    display: block;
  }

  .macro-label {
    font-size: 9px;
    color: var(--text-muted);
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  .micro-nutrients {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
  }

  .micro {
    font-size: 9px;
    letter-spacing: 1px;
    text-transform: uppercase;
    padding: 3px 8px;
    background: var(--surface2);
    border-radius: 4px;
    color: var(--text-muted);
    white-space: nowrap;
  }

  .micro span { color: var(--text); }

  /* Bar chart mini */
  .bars { display: flex; flex-direction: column; gap: 5px; margin-bottom: 12px; }

  .bar-row {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 9px;
    color: var(--text-muted);
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  .bar-label { width: 52px; flex-shrink: 0; }

  .bar-track {
    flex: 1;
    height: 4px;
    background: var(--surface2);
    border-radius: 2px;
    overflow: hidden;
  }

  .bar-fill {
    height: 100%;
    border-radius: 2px;
    transition: width 0.6s ease;
  }

  .bar-carb .bar-fill { background: var(--accent2); }
  .bar-prot .bar-fill { background: #7bb3c6; }
  .bar-fat .bar-fill { background: var(--accent3); }
  .bar-fiber .bar-fill { background: var(--accent); }

  .bar-val { width: 36px; text-align: right; color: var(--text); }

  /* No results */
  .no-results {
    text-align: center;
    padding: 80px 20px;
    color: var(--text-muted);
    font-size: 13px;
    letter-spacing: 1px;
    grid-column: 1/-1;
  }

  .no-results .big { font-family: 'Playfair Display', serif; font-size: 48px; color: var(--border); display: block; margin-bottom: 12px; }

  /* Legend */
  .legend {
    display: flex;
    gap: 24px;
    margin-bottom: 24px;
    font-size: 10px;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--text-muted);
    flex-wrap: wrap;
  }

  .legend-item { display: flex; align-items: center; gap: 6px; }
  .legend-dot { width: 10px; height: 4px; border-radius: 2px; }
</style>
</head>
<body>
<div class="wrapper">
  <header>
    <div class="header-inner">
      <div class="logo">
        Natura
        <em>Nutrition Guide</em>
      </div>
      <div class="header-meta">
        Per 100g serving<br>
        Fruits & Vegetables<br>
        Raw Values
      </div>
    </div>
  </header>

  <div class="controls">
    <div class="search-wrap">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
      <input type="search" id="searchInput" placeholder="Search apple, broccoli, mangoâ€¦">
    </div>
    <div class="filter-tabs">
      <button class="filter-tab active" data-filter="all">All</button>
      <button class="filter-tab" data-filter="fruit">Fruits</button>
      <button class="filter-tab" data-filter="vegetable">Vegetables</button>
    </div>
    <select class="sort-select" id="sortSelect">
      <option value="name">Name Aâ€“Z</option>
      <option value="calories">Calories â†‘</option>
      <option value="calories-desc">Calories â†“</option>
      <option value="protein">Protein â†‘</option>
      <option value="carbs">Carbs â†‘</option>
    </select>
  </div>

  <div class="legend">
    <div class="legend-item"><div class="legend-dot" style="background:var(--accent2)"></div> Carbs</div>
    <div class="legend-item"><div class="legend-dot" style="background:#7bb3c6"></div> Protein</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--accent3)"></div> Fat</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--accent)"></div> Fiber</div>
  </div>

  <div class="stats-bar">
    <div class="stat"><span id="countDisplay">0</span>items</div>
    <div class="stat"><span id="avgCalDisplay">0</span>avg kcal</div>
    <div class="stat"><span id="highProtein">â€”</span>highest protein</div>
  </div>

  <div class="grid" id="grid"></div>
</div>

<script>
const data = [
  // FRUITS
  { name: "Apple", emoji: "ðŸŽ", type: "fruit", cal: 52, carbs: 13.8, protein: 0.3, fat: 0.2, fiber: 2.4, vitC: 4.6, vitA: 3, potassium: 107, calcium: 6, iron: 0.1, vitK: 2.2 },
  { name: "Banana", emoji: "ðŸŒ", type: "fruit", cal: 89, carbs: 22.8, protein: 1.1, fat: 0.3, fiber: 2.6, vitC: 8.7, vitA: 3, potassium: 358, calcium: 5, iron: 0.3, vitK: 0.5 },
  { name: "Orange", emoji: "ðŸŠ", type: "fruit", cal: 47, carbs: 11.8, protein: 0.9, fat: 0.1, fiber: 2.4, vitC: 53.2, vitA: 11, potassium: 181, calcium: 40, iron: 0.1, vitK: 0 },
  { name: "Mango", emoji: "ðŸ¥­", type: "fruit", cal: 60, carbs: 15.0, protein: 0.8, fat: 0.4, fiber: 1.6, vitC: 36.4, vitA: 54, potassium: 168, calcium: 11, iron: 0.2, vitK: 4.2 },
  { name: "Grape", emoji: "ðŸ‡", type: "fruit", cal: 69, carbs: 18.1, protein: 0.7, fat: 0.2, fiber: 0.9, vitC: 3.2, vitA: 3, potassium: 191, calcium: 10, iron: 0.4, vitK: 14.6 },
  { name: "Strawberry", emoji: "ðŸ“", type: "fruit", cal: 32, carbs: 7.7, protein: 0.7, fat: 0.3, fiber: 2.0, vitC: 58.8, vitA: 1, potassium: 153, calcium: 16, iron: 0.4, vitK: 2.2 },
  { name: "Blueberry", emoji: "ðŸ«", type: "fruit", cal: 57, carbs: 14.5, protein: 0.7, fat: 0.3, fiber: 2.4, vitC: 9.7, vitA: 3, potassium: 77, calcium: 6, iron: 0.3, vitK: 19.3 },
  { name: "Watermelon", emoji: "ðŸ‰", type: "fruit", cal: 30, carbs: 7.6, protein: 0.6, fat: 0.2, fiber: 0.4, vitC: 8.1, vitA: 28, potassium: 112, calcium: 7, iron: 0.2, vitK: 0.1 },
  { name: "Pineapple", emoji: "ðŸ", type: "fruit", cal: 50, carbs: 13.1, protein: 0.5, fat: 0.1, fiber: 1.4, vitC: 47.8, vitA: 3, potassium: 109, calcium: 13, iron: 0.3, vitK: 0.7 },
  { name: "Pear", emoji: "ðŸ", type: "fruit", cal: 57, carbs: 15.2, protein: 0.4, fat: 0.1, fiber: 3.1, vitC: 4.3, vitA: 1, potassium: 116, calcium: 9, iron: 0.2, vitK: 4.4 },
  { name: "Peach", emoji: "ðŸ‘", type: "fruit", cal: 39, carbs: 9.5, protein: 0.9, fat: 0.3, fiber: 1.5, vitC: 6.6, vitA: 16, potassium: 190, calcium: 6, iron: 0.3, vitK: 2.6 },
  { name: "Cherry", emoji: "ðŸ’", type: "fruit", cal: 63, carbs: 16.0, protein: 1.1, fat: 0.2, fiber: 2.1, vitC: 7.0, vitA: 3, potassium: 222, calcium: 13, iron: 0.4, vitK: 2.1 },
  { name: "Kiwi", emoji: "ðŸ¥", type: "fruit", cal: 61, carbs: 14.7, protein: 1.1, fat: 0.5, fiber: 3.0, vitC: 92.7, vitA: 3, potassium: 312, calcium: 34, iron: 0.3, vitK: 40.3 },
  { name: "Lemon", emoji: "ðŸ‹", type: "fruit", cal: 29, carbs: 9.3, protein: 1.1, fat: 0.3, fiber: 2.8, vitC: 53.0, vitA: 1, potassium: 138, calcium: 26, iron: 0.6, vitK: 0 },
  { name: "Lime", emoji: "ðŸ‹", type: "fruit", cal: 30, carbs: 10.5, protein: 0.7, fat: 0.2, fiber: 2.8, vitC: 29.1, vitA: 1, potassium: 102, calcium: 33, iron: 0.6, vitK: 0.6 },
  { name: "Papaya", emoji: "ðŸ§¡", type: "fruit", cal: 43, carbs: 10.8, protein: 0.5, fat: 0.3, fiber: 1.7, vitC: 61.8, vitA: 47, potassium: 182, calcium: 20, iron: 0.3, vitK: 2.6 },
  { name: "Coconut", emoji: "ðŸ¥¥", type: "fruit", cal: 354, carbs: 15.2, protein: 3.3, fat: 33.5, fiber: 9.0, vitC: 3.3, vitA: 0, potassium: 356, calcium: 14, iron: 2.4, vitK: 0.2 },
  { name: "Avocado", emoji: "ðŸ¥‘", type: "fruit", cal: 160, carbs: 8.5, protein: 2.0, fat: 14.7, fiber: 6.7, vitC: 10.0, vitA: 7, potassium: 485, calcium: 12, iron: 0.6, vitK: 21.0 },
  { name: "Tomato", emoji: "ðŸ…", type: "fruit", cal: 18, carbs: 3.9, protein: 0.9, fat: 0.2, fiber: 1.2, vitC: 13.7, vitA: 42, potassium: 237, calcium: 10, iron: 0.3, vitK: 7.9 },
  { name: "Pomegranate", emoji: "ðŸ’Ž", type: "fruit", cal: 83, carbs: 18.7, protein: 1.7, fat: 1.2, fiber: 4.0, vitC: 10.2, vitA: 0, potassium: 236, calcium: 10, iron: 0.3, vitK: 16.4 },
  { name: "Fig", emoji: "ðŸ«", type: "fruit", cal: 74, carbs: 19.2, protein: 0.8, fat: 0.3, fiber: 2.9, vitC: 2.0, vitA: 5, potassium: 232, calcium: 35, iron: 0.4, vitK: 4.7 },
  { name: "Apricot", emoji: "ðŸ‘", type: "fruit", cal: 48, carbs: 11.1, protein: 1.4, fat: 0.4, fiber: 2.0, vitC: 10.0, vitA: 96, potassium: 259, calcium: 13, iron: 0.4, vitK: 3.3 },
  { name: "Plum", emoji: "ðŸ‡", type: "fruit", cal: 46, carbs: 11.4, protein: 0.7, fat: 0.3, fiber: 1.4, vitC: 9.5, vitA: 17, potassium: 157, calcium: 6, iron: 0.2, vitK: 6.4 },
  { name: "Cantaloupe", emoji: "ðŸˆ", type: "fruit", cal: 34, carbs: 8.2, protein: 0.8, fat: 0.2, fiber: 0.9, vitC: 36.7, vitA: 169, potassium: 267, calcium: 9, iron: 0.2, vitK: 2.5 },
  { name: "Raspberry", emoji: "ðŸ“", type: "fruit", cal: 52, carbs: 11.9, protein: 1.2, fat: 0.7, fiber: 6.5, vitC: 26.2, vitA: 2, potassium: 151, calcium: 25, iron: 0.7, vitK: 7.8 },
  { name: "Blackberry", emoji: "ðŸ«", type: "fruit", cal: 43, carbs: 9.6, protein: 1.4, fat: 0.5, fiber: 5.3, vitC: 21.0, vitA: 11, potassium: 162, calcium: 29, iron: 0.6, vitK: 19.8 },
  { name: "Guava", emoji: "ðŸ’š", type: "fruit", cal: 68, carbs: 14.3, protein: 2.6, fat: 1.0, fiber: 5.4, vitC: 228.3, vitA: 31, potassium: 417, calcium: 18, iron: 0.3, vitK: 2.6 },
  { name: "Lychee", emoji: "â¤ï¸", type: "fruit", cal: 66, carbs: 16.5, protein: 0.8, fat: 0.4, fiber: 1.3, vitC: 71.5, vitA: 0, potassium: 171, calcium: 5, iron: 0.3, vitK: 0.4 },
  { name: "Passion Fruit", emoji: "ðŸ’›", type: "fruit", cal: 97, carbs: 23.4, protein: 2.2, fat: 0.7, fiber: 10.4, vitC: 30.0, vitA: 64, potassium: 348, calcium: 12, iron: 1.6, vitK: 0.7 },
  { name: "Dragon Fruit", emoji: "ðŸ‰", type: "fruit", cal: 60, carbs: 13.0, protein: 1.2, fat: 0.0, fiber: 3.0, vitC: 9.2, vitA: 0, potassium: 436, calcium: 107, iron: 0.7, vitK: 0 },

  // VEGETABLES
  { name: "Broccoli", emoji: "ðŸ¥¦", type: "vegetable", cal: 34, carbs: 6.6, protein: 2.8, fat: 0.4, fiber: 2.6, vitC: 89.2, vitA: 31, potassium: 316, calcium: 47, iron: 0.7, vitK: 101.6 },
  { name: "Carrot", emoji: "ðŸ¥•", type: "vegetable", cal: 41, carbs: 9.6, protein: 0.9, fat: 0.2, fiber: 2.8, vitC: 5.9, vitA: 835, potassium: 320, calcium: 33, iron: 0.3, vitK: 13.2 },
  { name: "Spinach", emoji: "ðŸ¥¬", type: "vegetable", cal: 23, carbs: 3.6, protein: 2.9, fat: 0.4, fiber: 2.2, vitC: 28.1, vitA: 469, potassium: 558, calcium: 99, iron: 2.7, vitK: 482.9 },
  { name: "Cucumber", emoji: "ðŸ¥’", type: "vegetable", cal: 15, carbs: 3.6, protein: 0.7, fat: 0.1, fiber: 0.5, vitC: 2.8, vitA: 5, potassium: 147, calcium: 16, iron: 0.3, vitK: 16.4 },
  { name: "Bell Pepper", emoji: "ðŸ«‘", type: "vegetable", cal: 31, carbs: 6.0, protein: 1.0, fat: 0.3, fiber: 2.1, vitC: 127.7, vitA: 157, potassium: 211, calcium: 7, iron: 0.4, vitK: 4.9 },
  { name: "Kale", emoji: "ðŸ¥¬", type: "vegetable", cal: 49, carbs: 8.8, protein: 4.3, fat: 0.9, fiber: 3.6, vitC: 120.0, vitA: 241, potassium: 491, calcium: 150, iron: 1.5, vitK: 704.8 },
  { name: "Onion", emoji: "ðŸ§…", type: "vegetable", cal: 40, carbs: 9.3, protein: 1.1, fat: 0.1, fiber: 1.7, vitC: 7.4, vitA: 0, potassium: 146, calcium: 23, iron: 0.2, vitK: 0.4 },
  { name: "Garlic", emoji: "ðŸ§„", type: "vegetable", cal: 149, carbs: 33.1, protein: 6.4, fat: 0.5, fiber: 2.1, vitC: 31.2, vitA: 0, potassium: 401, calcium: 181, iron: 1.7, vitK: 1.7 },
  { name: "Potato", emoji: "ðŸ¥”", type: "vegetable", cal: 77, carbs: 17.5, protein: 2.0, fat: 0.1, fiber: 2.2, vitC: 19.7, vitA: 0, potassium: 421, calcium: 12, iron: 0.8, vitK: 2.0 },
  { name: "Corn", emoji: "ðŸŒ½", type: "vegetable", cal: 86, carbs: 19.0, protein: 3.3, fat: 1.4, fiber: 2.7, vitC: 6.8, vitA: 11, potassium: 270, calcium: 2, iron: 0.5, vitK: 0.4 },
  { name: "Peas", emoji: "ðŸ’š", type: "vegetable", cal: 81, carbs: 14.5, protein: 5.4, fat: 0.4, fiber: 5.1, vitC: 40.0, vitA: 38, potassium: 244, calcium: 25, iron: 1.5, vitK: 24.8 },
  { name: "Cauliflower", emoji: "ðŸ¥¦", type: "vegetable", cal: 25, carbs: 5.0, protein: 1.9, fat: 0.3, fiber: 2.0, vitC: 48.2, vitA: 0, potassium: 299, calcium: 22, iron: 0.4, vitK: 15.5 },
  { name: "Cabbage", emoji: "ðŸ¥¬", type: "vegetable", cal: 25, carbs: 5.8, protein: 1.3, fat: 0.1, fiber: 2.5, vitC: 36.6, vitA: 5, potassium: 170, calcium: 40, iron: 0.5, vitK: 76.0 },
  { name: "Celery", emoji: "ðŸ¥¬", type: "vegetable", cal: 16, carbs: 3.0, protein: 0.7, fat: 0.2, fiber: 1.6, vitC: 3.1, vitA: 22, potassium: 260, calcium: 40, iron: 0.2, vitK: 29.3 },
  { name: "Beet", emoji: "â¤ï¸", type: "vegetable", cal: 43, carbs: 9.6, protein: 1.6, fat: 0.2, fiber: 2.8, vitC: 4.9, vitA: 2, potassium: 325, calcium: 16, iron: 0.8, vitK: 0.2 },
  { name: "Asparagus", emoji: "ðŸ’š", type: "vegetable", cal: 20, carbs: 3.9, protein: 2.2, fat: 0.1, fiber: 2.1, vitC: 5.6, vitA: 38, potassium: 202, calcium: 24, iron: 2.1, vitK: 41.6 },
  { name: "Mushroom", emoji: "ðŸ„", type: "vegetable", cal: 22, carbs: 3.3, protein: 3.1, fat: 0.3, fiber: 1.0, vitC: 2.1, vitA: 0, potassium: 318, calcium: 3, iron: 0.5, vitK: 0 },
  { name: "Zucchini", emoji: "ðŸ¥’", type: "vegetable", cal: 17, carbs: 3.1, protein: 1.2, fat: 0.3, fiber: 1.0, vitC: 17.9, vitA: 10, potassium: 261, calcium: 16, iron: 0.4, vitK: 4.3 },
  { name: "Eggplant", emoji: "ðŸ†", type: "vegetable", cal: 25, carbs: 5.9, protein: 1.0, fat: 0.2, fiber: 3.0, vitC: 2.2, vitA: 1, potassium: 229, calcium: 9, iron: 0.2, vitK: 3.5 },
  { name: "Pumpkin", emoji: "ðŸŽƒ", type: "vegetable", cal: 26, carbs: 6.5, protein: 1.0, fat: 0.1, fiber: 0.5, vitC: 9.0, vitA: 246, potassium: 340, calcium: 21, iron: 0.8, vitK: 1.1 },
  { name: "Sweet Potato", emoji: "ðŸ ", type: "vegetable", cal: 86, carbs: 20.1, protein: 1.6, fat: 0.1, fiber: 3.0, vitC: 2.4, vitA: 961, potassium: 337, calcium: 30, iron: 0.6, vitK: 1.8 },
  { name: "Lettuce", emoji: "ðŸ¥—", type: "vegetable", cal: 15, carbs: 2.9, protein: 1.4, fat: 0.2, fiber: 1.3, vitC: 9.2, vitA: 166, potassium: 194, calcium: 36, iron: 0.9, vitK: 102.3 },
  { name: "Artichoke", emoji: "ðŸ’š", type: "vegetable", cal: 47, carbs: 10.5, protein: 3.3, fat: 0.2, fiber: 5.4, vitC: 11.7, vitA: 1, potassium: 370, calcium: 44, iron: 1.3, vitK: 14.8 },
  { name: "Brussels Sprouts", emoji: "ðŸ¥¦", type: "vegetable", cal: 43, carbs: 9.0, protein: 3.4, fat: 0.3, fiber: 3.8, vitC: 85.0, vitA: 38, potassium: 389, calcium: 42, iron: 1.4, vitK: 177.0 },
  { name: "Ginger", emoji: "ðŸ«š", type: "vegetable", cal: 80, carbs: 17.8, protein: 1.8, fat: 0.8, fiber: 2.0, vitC: 5.0, vitA: 0, potassium: 415, calcium: 16, iron: 0.6, vitK: 0.1 },
  { name: "Radish", emoji: "ðŸ«›", type: "vegetable", cal: 16, carbs: 3.4, protein: 0.7, fat: 0.1, fiber: 1.6, vitC: 14.8, vitA: 0, potassium: 233, calcium: 25, iron: 0.3, vitK: 1.3 },
  { name: "Leek", emoji: "ðŸŒ¿", type: "vegetable", cal: 61, carbs: 14.2, protein: 1.5, fat: 0.3, fiber: 1.8, vitC: 12.0, vitA: 83, potassium: 180, calcium: 59, iron: 2.1, vitK: 47.0 },
  { name: "Fennel", emoji: "ðŸŒ¿", type: "vegetable", cal: 31, carbs: 7.3, protein: 1.2, fat: 0.2, fiber: 3.1, vitC: 12.0, vitA: 7, potassium: 414, calcium: 49, iron: 0.7, vitK: 62.8 },
  { name: "Bok Choy", emoji: "ðŸ¥¬", type: "vegetable", cal: 13, carbs: 2.2, protein: 1.5, fat: 0.2, fiber: 1.0, vitC: 45.0, vitA: 243, potassium: 252, calcium: 105, iron: 0.8, vitK: 45.5 },
  { name: "Turnip", emoji: "ðŸ’œ", type: "vegetable", cal: 28, carbs: 6.4, protein: 0.9, fat: 0.1, fiber: 1.8, vitC: 21.0, vitA: 0, potassium: 191, calcium: 30, iron: 0.3, vitK: 0.1 },
];

let currentFilter = 'all';
let currentSearch = '';
let currentSort = 'name';

function getFiltered() {
  let items = [...data];
  if (currentFilter !== 'all') items = items.filter(d => d.type === currentFilter);
  if (currentSearch) {
    const q = currentSearch.toLowerCase();
    items = items.filter(d => d.name.toLowerCase().includes(q));
  }
  items.sort((a, b) => {
    if (currentSort === 'name') return a.name.localeCompare(b.name);
    if (currentSort === 'calories') return a.cal - b.cal;
    if (currentSort === 'calories-desc') return b.cal - a.cal;
    if (currentSort === 'protein') return b.protein - a.protein;
    if (currentSort === 'carbs') return b.carbs - a.carbs;
    return 0;
  });
  return items;
}

function barWidth(val, max) {
  return Math.min(100, (val / max) * 100).toFixed(1);
}

function render() {
  const items = getFiltered();
  const grid = document.getElementById('grid');

  document.getElementById('countDisplay').textContent = items.length;
  const avgCal = items.length ? Math.round(items.reduce((s, d) => s + d.cal, 0) / items.length) : 0;
  document.getElementById('avgCalDisplay').textContent = avgCal;
  const highProt = items.length ? items.reduce((a, b) => a.protein > b.protein ? a : b) : null;
  document.getElementById('highProtein').textContent = highProt ? highProt.name : 'â€”';

  if (!items.length) {
    grid.innerHTML = `<div class="no-results"><span class="big">âˆ…</span>No results found</div>`;
    return;
  }

  grid.innerHTML = items.map((d, i) => `
    <div class="card" style="animation-delay:${i * 0.02}s">
      <div class="card-header">
        <div class="card-icon">${d.emoji}</div>
        <span class="card-type ${d.type}">${d.type}</span>
      </div>
      <div class="card-name">${d.name}</div>
      <div class="card-calories"><strong>${d.cal}</strong> kcal / 100g</div>

      <div class="bars">
        <div class="bar-row bar-carb">
          <div class="bar-label">Carbs</div>
          <div class="bar-track"><div class="bar-fill" style="width:${barWidth(d.carbs, 40)}%"></div></div>
          <div class="bar-val">${d.carbs}g</div>
        </div>
        <div class="bar-row bar-prot">
          <div class="bar-label">Protein</div>
          <div class="bar-track"><div class="bar-fill" style="width:${barWidth(d.protein, 10)}%"></div></div>
          <div class="bar-val">${d.protein}g</div>
        </div>
        <div class="bar-row bar-fat">
          <div class="bar-label">Fat</div>
          <div class="bar-track"><div class="bar-fill" style="width:${barWidth(d.fat, 15)}%"></div></div>
          <div class="bar-val">${d.fat}g</div>
        </div>
        <div class="bar-row bar-fiber">
          <div class="bar-label">Fiber</div>
          <div class="bar-track"><div class="bar-fill" style="width:${barWidth(d.fiber, 12)}%"></div></div>
          <div class="bar-val">${d.fiber}g</div>
        </div>
      </div>

      <div class="micro-nutrients">
        <div class="micro">Vit C <span>${d.vitC}mg</span></div>
        <div class="micro">Vit A <span>${d.vitA}Âµg</span></div>
        <div class="micro">K <span>${d.potassium}mg</span></div>
        <div class="micro">Ca <span>${d.calcium}mg</span></div>
        <div class="micro">Fe <span>${d.iron}mg</span></div>
        <div class="micro">Vit K <span>${d.vitK}Âµg</span></div>
      </div>
    </div>
  `).join('');
}

document.getElementById('searchInput').addEventListener('input', e => {
  currentSearch = e.target.value;
  render();
});

document.querySelectorAll('.filter-tab').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.filter-tab').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    currentFilter = btn.dataset.filter;
    render();
  });
});

document.getElementById('sortSelect').addEventListener('change', e => {
  currentSort = e.target.value;
  render();
});

render();
</script>
</body>
</html>
